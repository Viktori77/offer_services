# Telegram-бот для объединения всех услуг

## Основные функции

- пользователь добавляет предложение об услугах в городе;
- получает доступ в личный кабинет;
- в веб-приложении эта услуга доступна для бронирования, записи;
- пользователь получает уведомления о записи;
- клиент пользователя получает напоминание о записи;
- в веб-приложении сразу видно на какое время и к кому можно записаться;
- можно сделать запись в любое время дня и ночи.

## Кому подходит:

- салонам красоты, частным профессионалам;
- фотографам, фото-салонам, фото-зонам;
- спортивным школам, тренерам;
- репетиторам, учителям;
- ведущим мастер-классы и различные мероприятия;
- кафе, ресторанам, для брони столов;
- и другим.

## Технологии:

- Язык программирования — **Python**
- Фреймворк — **Fastapi**
- База — **PostgreSQL**
- Telegram-бот — **aiogram**
- Форматирование документов — **openpyxl**
- Напоминания — **APScheduler**

## Переменные окружения

Проект использует файл `.env` для хранения конфиденциальных данных. Пример содержимого файла:

```env
TELEGRAM_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
ADMINS=YOUR_ADMINS_NUMBER

LOGIN=LOGIN_DB
PASSWORD=PASSWORD_DB
HOST=localhost
DB=DB

URL_RECORDING=https://URL_RECORDING

```

- `TELEGRAM_TOKEN` - токен Telegram-бота.
- `ADMINS` - ip_адреса админов.
- `LOGIN` - логин в базе данных.
- `PASSWORD` - пароль в базе данных.
- `HOST` - номер хоста в базе данных.
- `DB` - имя базы данных.
- `URL_RECORDING` - адрес веб-приложения.

## Установка проекта

1. **Склонируйте репозиторий**:

   ```bash
   git clone https://github.com/Viktori77/offer_services.git
   cd offer_services
   ```

2. **Не забудьте установить и активировать виртуальное окружение.**

Для windows:

```bash
python -m venv .venv
.venv\Scripts\activate
```

Для linux:

```bash
python3 -m venv venv
source venv/bin/activate
```

3. **Установите зависимости**:

   ```bash
   pip install -r requirements.txt
   ```

4. **Создайте файл `.env`** с вашими настройками (см. раздел "Переменные окружения").

5. **Задайте токен Telegram-бота:**

```text
1. В боте BotFather нажимать "Старт".
2. Создать новый бот
3. Задать имя бота.
4. Задать имя_bot.
5. Получаем токен!
```

6. **Создайте базу данных Postgresql:**

```bash
   CREATE DATABASE name_db;
   GRANT ALL PRIVILEGES ON DATABASE name_db TO user;
   \c name_db;
   GRANT ALL ON schema public TO user;
```

7. **Создайте нужную структуру бота, при необходимости отредактировав файл struction.py**

```text
Бот настроен именно на такую структуру.
```

8. **Запустите приложение**:
   ```bash
   python aiogram_run.py
   ```

## Зависимости

Проект использует следующие зависимости:

```text
fastapi==0.124.4
uvicorn==0.38.0
SQLAlchemy==2.0.45
python-decouple==3.8
asyncpg==0.31.0
psycopg2-binary== 2.9.11
aiogram==3.23.0
python-dotenv==1.2.1
APScheduler==3.11.1
pydantic==2.12.5
openpyxl==3.1.5
```

## Установка веб-приложения:

1. Перейдите в репозиторий Recording.

2. Следуйте инструкции по установке там.

3. Добавьте нужный URL_RECORDING в файл `.env` здесь и там.
